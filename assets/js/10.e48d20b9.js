(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{331:function(s,t,a){s.exports=a.p+"assets/img/Snipaste_2020-03-16_12-27-03.1e20e491.png"},332:function(s,t,a){s.exports=a.p+"assets/img/Snipaste_2020-03-16_22-25-51.d28cca17.png"},341:function(s,t,a){"use strict";a.r(t);var e=a(3),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"背景说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#背景说明"}},[s._v("#")]),s._v(" 背景说明")]),s._v(" "),e("p",[s._v("Redis Desktop Manager 非常好用，但是从官网下载需要收费，好在官方有提供源码可以自行编译，特此记录一下。")]),s._v(" "),e("blockquote",[e("p",[s._v("官网："),e("a",{attrs:{href:"https://redisdesktop.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://redisdesktop.com/"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("GitHub："),e("a",{attrs:{href:"https://github.com/uglide/RedisDesktopManager/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/uglide/RedisDesktopManager/"),e("OutboundLink")],1)])]),s._v(" "),e("p",[s._v("官方给出的编译步骤如下：")]),s._v(" "),e("blockquote",[e("p",[e("strong",[s._v("Build on Windows")])]),s._v(" "),e("ol",[e("li",[s._v("Install "),e("a",{attrs:{href:"https://docs.microsoft.com/en-us/visualstudio/releasenotes/vs2017-relnotes",target:"_blank",rel:"noopener noreferrer"}},[s._v("Visual Studio 2017 Community Edition"),e("OutboundLink")],1),s._v(".")]),s._v(" "),e("li",[s._v("Install "),e("a",{attrs:{href:"https://www.qt.io/download",target:"_blank",rel:"noopener noreferrer"}},[s._v("Qt 5.9"),e("OutboundLink")],1),s._v(".")]),s._v(" "),e("li",[s._v("Go to "),e("code",[s._v("3rdparty/qredisclient/3rdparty/hiredis")]),s._v(" and apply the patch to fix compilation on Windows: "),e("code",[s._v("git apply ../hiredis-win.patch")])]),s._v(" "),e("li",[s._v("Go to the "),e("code",[s._v("3rdparty/")]),s._v(" folder and install zlib with "),e("code",[s._v("nuget")]),s._v(": "),e("code",[s._v("nuget install zlib-msvc14-x64 -Version 1.2.11.7795")])]),s._v(" "),e("li",[s._v("Install Python 3.7 amd64 to "),e("code",[s._v("C:\\Python37-x64")]),s._v(".")]),s._v(" "),e("li",[s._v("Install Python requirements "),e("code",[s._v("pip3 install -r src/py/requirements.txt")]),s._v(".")]),s._v(" "),e("li",[s._v("Open "),e("code",[s._v("./src/rdm.pro")]),s._v(" in "),e("strong",[s._v("Qt Creator")]),s._v(". Choose the "),e("code",[s._v("Desktop Qt 5.9.x MSVC2017 64bit > Release")]),s._v(" build profile.")]),s._v(" "),e("li",[s._v("Run build. (Just hit "),e("code",[s._v("Ctrl-B")]),s._v(")")])])]),s._v(" "),e("h2",{attrs:{id:"相关软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相关软件"}},[s._v("#")]),s._v(" 相关软件")]),s._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Visual Studio 2017 Community Edition"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"http://download.qt.io/archive/qt/5.9/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Qt 5.9"),e("OutboundLink")],1),s._v(" 【文中使用的是 qt-opensource-windows-x86-5.9.9 （文件大小为 2.39G）】")]),s._v(" "),e("li",[e("a",{attrs:{href:"https://www.nuget.org/downloads",target:"_blank",rel:"noopener noreferrer"}},[s._v("NuGet"),e("OutboundLink")],1),s._v(" 【文中使用的是 nuget.exe v5.4.0】")]),s._v(" "),e("li",[e("a",{attrs:{href:"https://www.python.org/downloads/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python 3.7"),e("OutboundLink")],1),s._v(" 【文中使用的是 python-3.7.7-amd64】")]),s._v(" "),e("li",[e("a",{attrs:{href:"http://nsis.sourceforge.net/Download",target:"_blank",rel:"noopener noreferrer"}},[s._v("NSIS"),e("OutboundLink")],1),s._v(" 【文中使用的是 nsis-3.05】")])]),s._v(" "),e("p",[s._v("软件安装部分不再赘述，文中软件大部分安装在 "),e("code",[s._v("D:\\Tools")]),s._v(" 目录下。需要注意安装 Qt 时候需要包含以下组件：")]),s._v(" "),e("p",[e("img",{attrs:{src:a(331),alt:"Qt 组件选择"}})]),s._v(" "),e("h2",{attrs:{id:"编译步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译步骤"}},[s._v("#")]),s._v(" 编译步骤")]),s._v(" "),e("h3",{attrs:{id:"步骤1-代码检出"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤1-代码检出"}},[s._v("#")]),s._v(" 步骤1 代码检出")]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[s._v("git clone "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("recursive https:"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("github"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("uglide"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("RedisDesktopManager"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b 2019\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 子模块下载失败时可使用一下命令重试")]),s._v("\ngit submodule update "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("init "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("recursive\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"步骤2-修改-hiredis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤2-修改-hiredis"}},[s._v("#")]),s._v(" 步骤2 修改 hiredis")]),s._v(" "),e("p",[s._v("Windows 平台上需要打补丁才能编译成功，执行一下以下命令。")]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前位置为 RedisDesktopManager")]),s._v("\ncd 3rdparty\\qredisclient\\3rdparty\\hiredis\ngit apply "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\hiredis"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("win"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("patch\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"步骤3-安装-zlib"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤3-安装-zlib"}},[s._v("#")]),s._v(" 步骤3 安装 zlib")]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前位置为 RedisDesktopManager")]),s._v("\ncd 3rdparty\nnuget install zlib"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("msvc14"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("x64 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Version 1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("11"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("7795\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"步骤4-修改-python-3-7-配置路径"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤4-修改-python-3-7-配置路径"}},[s._v("#")]),s._v(" 步骤4 修改 Python 3.7 配置路径")]),s._v(" "),e("p",[s._v("官方说明是需要将 Python 3.7 安装到 "),e("code",[s._v("C:\\Python37-x64")]),s._v("，如果安装到其他路径改一下配置文件即可。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 编辑 3rdparty\\pyotherside.pri\n# 将 C:\\Python37-x64 修改为 Python3.7 的安装路径\n\nQMAKE_LIBS += -LC:\\Python37-x64\\libs -lpython37\nINCLUDEPATH += C:\\Python37-x64\\include\\\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"步骤5-安装-python-requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤5-安装-python-requirements"}},[s._v("#")]),s._v(" 步骤5 安装 Python requirements")]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前位置为 RedisDesktopManager")]),s._v("\npip3 install "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r src\\py\\requirements"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"步骤6-编译主程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤6-编译主程序"}},[s._v("#")]),s._v(" 步骤6 编译主程序")]),s._v(" "),e("p",[s._v("使用 "),e("strong",[s._v("Qt Creator")]),s._v(" 打开 "),e("code",[s._v(".\\src\\rdm.pro")]),s._v(" 文件，选择 "),e("code",[s._v("Desktop Qt 5.9.x MSVC2017 64bit > Release")]),s._v(" 构建配置，然后进行编译。")]),s._v(" "),e("blockquote",[e("p",[s._v("编译生成的主程序保存在 "),e("code",[s._v(".\\bin\\windows\\release")]),s._v(" 目录。")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(332),alt:"编译"}})]),s._v(" "),e("h3",{attrs:{id:"步骤7-打包依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤7-打包依赖"}},[s._v("#")]),s._v(" 步骤7 打包依赖")]),s._v(" "),e("p",[s._v("编译生成的主程序需要添加依赖文件才能正常运行。")]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前位置为 RedisDesktopManager")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\bin\\windows\\release\\rdm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\build\\windows\\installer\\resources\\rdm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe\n\ncd "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\build\\windows\\installer\\resources\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 优先选择这个")]),s._v("\nD:\\Tools\\Qt\\Qt5"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9\\5"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("9\\msvc2017_64\\bin\\windeployqt "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("angle "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("opengl"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sw "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("compiler"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("runtime "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("translations "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("release "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("force "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("qmldir D:\\Projects\\"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cpp")]),s._v("\\rdm\\src\\qml rdm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exe\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除多余的文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rmdir")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Q "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\platforminputcontexts\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rmdir")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Q "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\qmltooling\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rmdir")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Q "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\QtGraphicalEffects\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("del")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Q  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\imageformats\\qtiff"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dll\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("del")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Q  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\imageformats\\qwebp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dll\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[s._v("下载 Python 的运行环境（"),e("a",{attrs:{href:"https://www.python.org/ftp/python/3.7.7/python-3.7.7-embed-amd64.zip",target:"_blank",rel:"noopener noreferrer"}},[s._v("python-3.7.7-embed-amd64.zip"),e("OutboundLink")],1),s._v("），并将  "),e("code",[s._v("python37.zip")]),s._v("、"),e("code",[s._v("python37.dll")]),s._v(" 两个文件复制到 "),e("code",[s._v("\\build\\windows\\installer\\resources")]),s._v(" 目录下。")]),s._v(" "),e("h3",{attrs:{id:"步骤8-生成-pyc-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤8-生成-pyc-文件"}},[s._v("#")]),s._v(" 步骤8 生成 pyc 文件")]),s._v(" "),e("p",[s._v("将 "),e("code",[s._v("%Python37%\\Lib")]),s._v(" 和 "),e("code",[s._v("src\\py")]),s._v("目录，将以下文件复制到 "),e("code",[s._v(".\\build\\windows\\installer\\resources")]),s._v("，目录架构如下：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("Lib\n└─site-packages\n ├─cbor\n ├─formatters\n ├─msgpack\n ├─rdb\n ├─rdbtools\n │  ├─cli\n │  └─templates\n ├─redis\n ├─bitstring.py\n ├─lzf.cp37-win_amd64.pyd\n └─phpserialize.py\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前位置为 RedisDesktopManager\\build\\windows\\installer\\resources")]),s._v("\nmkdir Lib\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r D:\\Projects\\"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cpp")]),s._v("\\RedisDesktopManager\\src\\py "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r D:\\Tools\\Python\\Python37\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\cbor "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\cbor\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r D:\\Tools\\Python\\Python37\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\msgpack "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\msgpack\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r D:\\Tools\\Python\\Python37\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\rdbtools "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\rdbtools\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r D:\\Tools\\Python\\Python37\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\redis "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\redis\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" D:\\Tools\\Python\\Python37\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\bitstring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" D:\\Tools\\Python\\Python37\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\lzf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cp37"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("win_amd64"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pyd "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" D:\\Tools\\Python\\Python37\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\\phpserialize"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\Lib\\site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages\n\ncd Lib"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("site"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("packages"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编译 pyc")]),s._v("\npython "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m compileall "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("p",[s._v("编译完后删除 "),e("code",[s._v("site-packages")]),s._v(" 下的所有  "),e("code",[s._v("__pycache__")]),s._v("  目录和 "),e("code",[s._v("*.py")]),s._v(" 文件，这里为了方便删除使用 "),e("code",[s._v("Cmder")]),s._v("   中的 "),e("code",[s._v("bash")]),s._v(" 来执行删除。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bash")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -name "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"__pycache__"')]),s._v(" -exec "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -name "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.py"')]),s._v(" -delete\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"步骤9-制作安装程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#步骤9-制作安装程序"}},[s._v("#")]),s._v(" 步骤9 制作安装程序")]),s._v(" "),e("div",{staticClass:"language-powershell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-powershell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前位置为 RedisDesktopManager")]),s._v("\ncall "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:\\\\Tools\\\\NSIS\\\\makensis.exe"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("V1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("DVERSION=2019"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("5"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("windows"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("installer"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("installer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nsi\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[s._v("制作好的安装程序在 "),e("code",[s._v("RedisDesktopManager\\build\\windows\\installer")]),s._v(" 目录下。")])]),s._v(" "),e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),e("p",[e("a",{attrs:{href:"http://docs.redisdesktop.com/en/latest/install/#build-from-source",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网教程"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("a",{attrs:{href:"https://kany.me/2019/10/10/compile-redis-desktop-manager/",target:"_blank",rel:"noopener noreferrer"}},[s._v("源码编译Redis Desktop Manager"),e("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);